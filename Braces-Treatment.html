<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Braces Treatment Plan</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">

<style>
:root{
  --sidebar-bg:#2c3e50;
  --sidebar-active:#00bfff;
  --bg:#eef8fc;
  --card:#ffffff;
  --shadow:0 4px 12px rgba(0,0,0,.08);
  --text:#2c3e50;
}
*{box-sizing:border-box;margin:0;padding:0;font-family:'Inter',sans-serif}
body{background:var(--bg);color:var(--text)}
 /* ===== LAYOUT ===== */
.dashboard{display:flex;min-height:100vh}

/* ===== SIDEBAR ===== */
.sidebar{
  width:250px;
  background:var(--sidebar-bg);
  color:#fff;
  position:fixed;
  top:0;left:0;bottom:0;
}
.sidebar-header{
  display:flex;
  align-items:center;
  gap:10px;
  padding:20px;
}
.sidebar-logo{
  width:50px;
  height:50px;
  border-radius:50%;
}
.sidebar-title h2{
  font-size:16px;
  color:var(--sidebar-active);
  line-height:1.1;
}
.sidebar-menu{list-style:none}
.sidebar-menu a{
  display:flex;
  align-items:center;
  gap:10px;
  padding:12px 20px;
  color:#fff;
  text-decoration:none;
}
.sidebar-menu a:hover,
.sidebar-menu a.active{
  background:rgba(0,191,255,.2);
  border-left:4px solid var(--sidebar-active);
}

/* Dropdown */
.dropdown .arrow{
  margin-left:auto;
  transition:.3s;
}
.dropdown.open .arrow{
  transform:rotate(180deg);
}
.submenu{
  list-style:none;
  display:none;
  background:#243444;
}
.dropdown.open .submenu{
  display:block;
}
.submenu a{
  padding:10px 40px;
  font-size:14px;
}

/* ===== MAIN ===== */
.main{
  margin-left:250px;
  width:calc(100% - 250px);
  display:flex;
  flex-direction:column;
}
/* ===== BASE ===== */
body{font-family:Inter,sans-serif;background:#eef8fc;padding:20px}
h2{margin-bottom:10px}
.search-box{background:#fff;padding:10px;border-radius:6px;margin-bottom:10px}
.search-box input{width:100%;border:none;outline:none}
.patient-list{background:#fff;border-radius:6px;box-shadow:0 4px 10px rgba(0,0,0,.1);margin-bottom:20px}
.patient-item{padding:10px;cursor:pointer;border-bottom:1px solid #eee}
.patient-item:hover{background:#e9faff}
.patient-item.selected{background:#c8f1ff;font-weight:600}
.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:20px}
.card{background:#fff;border-radius:8px;padding:16px;box-shadow:0 4px 12px rgba(0,0,0,.1)}
.card h3{border-bottom:1px solid #ddd;padding-bottom:6px;margin-bottom:10px}
label{display:block;margin:6px 0}
input[type=text],select{width:100%;padding:6px}
.phase-row{cursor:pointer}
.phase-row:hover{background:#f1faff}
.phase-row.selected{background:#c8f1ff;border-left:4px solid #00cfff}
.save-btn{background:#32cd32;color:#fff;border:none;padding:10px;border-radius:4px;width:100%;cursor:pointer;margin-top:10px}
.btn-outline{background:#fff;border:1px solid #ccc;padding:6px 10px;border-radius:4px;cursor:pointer}
table{width:100%;border-collapse:collapse;margin-top:10px}
th,td{padding:10px;border-bottom:1px solid #ddd}
th{background:#f5f5f5}
@media(max-width:900px){.grid{grid-template-columns:1fr}}

/* ===== WALKTHROUGH ===== */
.tour-overlay{
  position:fixed;inset:0;
  background:rgba(0,0,0,.6);
  display:none;z-index:999;
}
.tour-tooltip{
  position:fixed;
  background:#fff;
  max-width:320px;
  padding:16px;
  border-radius:10px;
  box-shadow:0 10px 30px rgba(0,0,0,.3);
  display:none;
  z-index:1000;
  animation:fade .4s;
}
.tour-header{display:flex;align-items:center;gap:10px;font-weight:600}
.tour-header i{color:#00cfff}
.tour-actions{display:flex;justify-content:space-between;margin-top:12px}
.tour-actions button{
  border:none;padding:6px 12px;border-radius:6px;cursor:pointer
}
#nextTour{background:#00cfff;color:#fff}
.tour-highlight{
  position:relative;z-index:1001;
  box-shadow:0 0 0 4px #00cfff,0 0 20px rgba(0,207,255,.7);
  border-radius:6px;
}
@keyframes fade{from{opacity:0;transform:translateY(10px)}to{opacity:1}}
</style>
</head>

<body>
<div class="dashboard">

<!-- SIDEBAR -->
<aside class="sidebar">
  <div class="sidebar-header">
    <img src="logo.png" class="sidebar-logo">
    <div class="sidebar-title">
      <h2>SMART<br>DENTISTRY</h2>
    </div>
  </div>

  <ul class="sidebar-menu">
    <li><a href="admin.html"><i class="fas fa-home"></i> Dashboard</a></li>

    <li class="dropdown open">
      <a href="#" class="dropdown-toggle">
        <i class="fas fa-tooth"></i> My Clinic
        <i class="fas fa-chevron-down arrow"></i>
      </a>
      <ul class="submenu">
        <li><a href="clinic-profile.html" class="active">Clinic Profile</a></li>
        <li><a href="odontogram-prescription.html">Dental Chart</a></li>
        <li><a href="Braces-Treatment.html">Braces Treatment</a></li>
        <li><a href="MyRecords.html">Patient Records</a></li>
      </ul>
    </li>

    <li><a href="appointment-logs.html"><i class="fas fa-clipboard-list"></i> Appointment Logs</a></li>
    <li><a href="patients.html"><i class="fas fa-users"></i> Patients</a></li>
    <li><a href="Finance.html"><i class="fas fa-dollar-sign"></i> Finance</a></li>
    <li><a href="Reports.html"><i class="fas fa-chart-line"></i> Reports</a></li>
    <li><a href="Tutorial.html"><i class="fas fa-book"></i> Tutorial</a></li>
    <li><a href="landingpage.html"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
  </ul>
</aside>

<!-- MAIN -->
<div class="main">

<h2>Braces Treatment Plan</h2>

<!-- SEARCH -->
<div class="search-box">
  <input id="searchPatient" placeholder="SEARCH A PATIENT">
</div>

<!-- PATIENT LIST -->
<div class="patient-list">
  <div class="patient-item">Samillano, Kristina Casandra</div>
  <div class="patient-item">Reyes, Juan Miguel</div>
  <div class="patient-item">Dela Cruz, Maria Angela</div>
</div>

<p><b>Selected Patient:</b> <span id="selectedPatientSpan">None</span></p>

<!-- GRID -->
<div class="grid">

<div class="card">
<h3>Archwire Sequence</h3>
<label><input type="radio" name="archwire"> Initial alignment (NiTi)</label>
<label><input type="radio" name="archwire"> Working phase (Stainless)</label>
<label><input type="radio" name="archwire"> Finishing & detailing</label>
</div>

<div class="card">
<h3>Auxiliaries</h3>
<label><input type="checkbox"> Elastics</label>
<label><input type="checkbox"> Power chains</label>
<label><input type="checkbox"> Springs</label>
<label><input type="checkbox"> Bite turbos</label>
</div>

<div class="card">
<h3>Treatment Summary</h3>
<p>No selection yet</p>
<button id="saveTreatmentPlan" class="save-btn">SAVE TREATMENT PLAN</button>
</div>

</div>

<!-- ASSESSMENT -->
<div class="card" style="margin-top:20px">
<div style="display:flex;justify-content:space-between">
<h3>Patient Assessment</h3>
<div>
<button id="editAssessment" class="btn-outline">Edit</button>
<button id="saveAssessment" class="save-btn" style="display:none">Save</button>
</div>
</div>

<label>Chief Complaint</label>
<input id="chiefComplaint" disabled>

<label>Malocclusion</label>
<select id="malocclusion" disabled>
<option>Class I</option><option>Class II</option><option>Class III</option>
</select>

<label><input type="checkbox" id="crowding" disabled> Crowding</label>
<label><input type="checkbox" id="overbite" disabled> Overbite</label>
<label><input type="checkbox" id="crossbite" disabled> Crossbite</label>
</div>

<!-- PHASES -->
<div class="card" style="margin-top:20px">
<h3>Treatment Phases</h3>
<table>
<tr class="phase-row"><td>Phase 1</td><td>Alignment</td><td>4–6 months</td></tr>
<tr class="phase-row"><td>Phase 2</td><td>Space closure</td><td>6–12 months</td></tr>
<tr class="phase-row"><td>Phase 3</td><td>Finishing</td><td>3–6 months</td></tr>
</table>
<button id="savePhases" class="save-btn">SAVE PHASES</button>
</div>

<!-- WALKTHROUGH -->
<div id="tourOverlay" class="tour-overlay"></div>
<div id="tourTooltip" class="tour-tooltip">
<div class="tour-header">
<i id="tourIcon" class="fas fa-info-circle"></i>
<span id="tourTitle"></span>
</div>
<p id="tourText"></p>
<div class="tour-actions">
<button id="skipTour">Skip</button>
<button id="nextTour">Next</button>
</div>
</div>

<script>
let selectedPatient="";

/* SEARCH */
searchPatient.onkeyup=()=>document.querySelectorAll(".patient-item")
.forEach(p=>p.style.display=p.textContent.toLowerCase().includes(searchPatient.value.toLowerCase())?"block":"none");

/* PATIENT SELECT */
document.querySelectorAll(".patient-item").forEach(p=>{
p.onclick=()=>{
document.querySelectorAll(".patient-item").forEach(x=>x.classList.remove("selected"));
p.classList.add("selected");
selectedPatient=p.textContent;
selectedPatientSpan.textContent=selectedPatient;
};
});

/* ASSESSMENT */
editAssessment.onclick=()=>{
["chiefComplaint","malocclusion","crowding","overbite","crossbite"]
.forEach(id=>document.getElementById(id).disabled=false);
editAssessment.style.display="none";
saveAssessment.style.display="inline-block";
};
saveAssessment.onclick=()=>{
alert("Assessment Saved");
location.reload();
};

/* PHASE SELECT */
document.querySelectorAll(".phase-row").forEach(r=>{
r.onclick=()=>r.classList.toggle("selected");
});

/* TOUR */
const steps=[
{el:".search-box",title:"Search Patient",text:"Search patient by name"},
{el:".patient-list",title:"Select Patient",text:"Click patient to load data"},
{el:".grid",title:"Treatment Setup",text:"Set archwire & auxiliaries"},
{el:"#saveTreatmentPlan",title:"Save Plan",text:"Save treatment plan"},
{el:".card:nth-of-type(4)",title:"Assessment",text:"Edit patient assessment"},
{el:".phase-row",title:"Phases",text:"Select treatment phases"}
];
let step=0;

function showStep(){
document.querySelectorAll(".tour-highlight").forEach(e=>e.classList.remove("tour-highlight"));
const s=steps[step],t=document.querySelector(s.el);
if(!t)return;
t.classList.add("tour-highlight");
const r=t.getBoundingClientRect();
tourTooltip.style.top=r.bottom+10+"px";
tourTooltip.style.left=r.left+"px";
tourTitle.textContent=s.title;
tourText.textContent=s.text;
}

nextTour.onclick=()=>{
step++;
step>=steps.length?endTour():showStep();
};
skipTour.onclick=endTour;

function endTour(){
tourOverlay.style.display=tourTooltip.style.display="none";
localStorage.setItem("tourDone","yes");
}

window.onload=()=>{
if(!localStorage.getItem("tourDone")){
tourOverlay.style.display=tourTooltip.style.display="block";
showStep();
}
};
</script>

</body>
</html>