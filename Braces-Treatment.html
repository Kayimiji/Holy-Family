<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Clinic - Smart Dentistry</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
    :root{
      --sidebar-bg:#2c3e50;
      --sidebar-active:#00bfff;
      --bg:#eef8fc;
      --card:#ffffff;
      --shadow:0 4px 12px rgba(0,0,0,.08);
      --text:#2c3e50;
      --sidebar-width:220px; /* updated */
      --sidebar-collapsed-width:64px;
    }
    *{box-sizing:border-box;margin:0;padding:0;font-family:'Inter',sans-serif}
    body{background:var(--bg);color:var(--text)}

    /* ===== LAYOUT ===== */
    .dashboard{display:flex;min-height:100vh}

    /* ===== SIDEBAR ===== */
    .sidebar{
      width:var(--sidebar-width);
      background:var(--sidebar-bg);
      color:#fff;
      position:fixed;
      top:0;left:0;bottom:0;
      transition:width .28s, transform .28s;
      z-index:1200;
    }
    .sidebar-header{
      display:flex;
      align-items:center;
      gap:10px;
      padding:20px;
    }
    .sidebar-logo{
      width:50px;
      height:50px;
      border-radius:50%;
    }
    .sidebar-title h2{
      font-size:16px;
      color:var(--sidebar-active);
      line-height:1.1;
    }
    .sidebar-menu{list-style:none}
    .sidebar-menu a{
      display:flex;
      align-items:center;
      gap:10px;
      padding:12px 20px;
      color:#fff;
      text-decoration:none;
    }
    .sidebar-menu a:hover,
    .sidebar-menu a.active{
      background:rgba(0,191,255,.2);
      border-left:4px solid var(--sidebar-active);
    }

    /* Dropdown */
    .dropdown .arrow{
      margin-left:auto;
      transition:.3s;
    }
    .dropdown.open .arrow{
      transform:rotate(180deg);
    }
    .submenu{
      list-style:none;
      display:none;
      background:#243444;
    }
    .dropdown.open .submenu{
      display:block;
    }
    .submenu a{
      padding:10px 40px;
      font-size:14px;
    }


       /* ===== MAIN ===== */
      .main{
        margin-left:var(--sidebar-width);
        width:calc(100% - var(--sidebar-width));
        display:flex;
        flex-direction:column;
        transition:margin-left .28s;
      }

      /* ===== HEADER ===== */
      .header{
        background:#3de8ff;
        padding:15px 24px;
        display:flex;
        justify-content:space-between;
        align-items:center;
        font-weight:700;
      }

/* ===== CONTENT ===== */
      .container{
        .header-left { display: flex; align-items: center; gap: 10px; font-size: 20px; font-weight: bold; }
        .add-btn { background: #32cd32; border: none; color: #fff; padding: 8px 14px; border-radius: 4px; cursor: pointer; }
      }
      .container { padding: 20px; }

        /* SEARCH */
        .search-box {
        background: #fff;
        padding: 12px 15px;
        border-radius: 6px;
        display: flex;
        justify-content: space-between;
        border: 1px solid #ccc;
        margin-bottom: 20px;
      }
      .phase-row {
        cursor: pointer;
        transition: background 0.2s;
      }

      .phase-row:hover {
        background-color: #f1faff;
      }

      .phase-row.selected {
        background-color: #c8f1ff;
        border-left: 4px solid #00cfff;
      }

      .search-box input { border: none; outline: none; width: 100%; }

        /* GRID */
        .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 20px; }
        .card { background: #fff; border-radius: 8px; padding: 15px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
        .card h3 { margin-top: 0; font-size: 15px; border-bottom: 1px solid #ddd; padding-bottom: 6px; }

        ul.selectable { list-style: none; padding: 0; }
        ul.selectable li label { display: block; padding: 8px; cursor: pointer; border-radius: 4px; }
        ul.selectable input { margin-right: 8px; }
        ul.selectable input:checked + span { background: #00cfff; color: #fff; padding: 6px; border-radius: 4px; }

        .patient { display: flex; gap: 12px; align-items: center; }
        .avatar { width: 45px; height: 45px; border-radius: 50%; background: #ddd; display: flex; align-items: center; justify-content: center; }

        table { width: 100%; border-collapse: collapse; }
        th, td { padding: 10px; border-bottom: 1px solid #ddd; }
        th { background: #f5f5f5; }

        .save-btn { background: #32cd32; border: none; color: #fff; padding: 10px 16px; border-radius: 4px; cursor: pointer; margin-top: 10px; }

        @media (max-width: 1000px) {
        .grid { grid-template-columns: 1fr; }
        .sidebar { display: none; }
        }
        .card {
      background: #fff;
      border-radius: 8px;
      padding: 16px;
      box-shadow: 0 4px 10px rgba(0,0,0,.08);
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .card-body label {
      display: block;
      margin-top: 10px;
      font-size: 14px;
    }

    .card-body input,
    .card-body select {
      width: 100%;
      padding: 6px;
      margin-top: 4px;
    }

    .btn-primary {
      background: #1ec31e;
      color: white;
      padding: 6px 14px;
      border-radius: 4px;
      border: none;
    }

    .sidebar {
      width: var(--sidebar-width);
      background: var(--sidebar-bg);
      color: #fff;
      position: fixed;
      top: 0;
      left: 0;
      bottom: 0;
      transition: width 0.28s, transform 0.28s;
      z-index: 1200;
    }

    .sidebar .logo {
      display: flex;
      align-items: center;
      padding: 20px;
      font-size: 18px;
      font-weight: bold;
      color: #00bfff;
    }

    .sidebar .logo i {
      font-size: 24px;
      margin-right: 10px;
    }

    .sidebar ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .sidebar ul li {
      padding: 15px 20px;
      cursor: pointer;
      transition: background 0.3s;
    }

    .sidebar ul li:hover,
    .sidebar ul li.active {
      background: rgba(0, 191, 255, 0.2);
    }

    .sidebar .bottom {
      margin-top: auto;
      padding: 20px;
      border-top: 1px solid #34495e;
    }

    .sidebar .bottom div {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 0;
      cursor: pointer;
      transition: color 0.3s;
    }

    .sidebar .bottom div:hover {
      color: #00bfff;
    }

  </style>
</head>
<body>
 <aside class="sidebar">
  <div class="logo">
    <i class="fa-solid fa-tooth"></i>
    <span>SMART DENTISTRY</span>
  </div>
  <ul>
    <li class="active"><i class="fa-solid fa-gauge-high"></i> Dashboard</li>
    <li><i class="fa-solid fa-user"></i> Patients</li>
    <li><i class="fa-solid fa-calendar-days"></i> Appointments</li>
    <li><i class="fa-solid fa-certificate"></i> Certificates</li>
  </ul>
  <div class="bottom">
    <div><i class="fas fa-cog"></i> Settings</div>
    <div><i class="fas fa-sign-out-alt"></i> Logout</div>
  </div>
</aside>

<!-- MAIN CONTENT -->
<div class="main">

<div class="header">
  <div class="header-left"><i class="fa fa-arrow-left"></i> Braces Treatment Plan</div>
  <button class="add-btn">ADD A PATIENT</button>
</div>


<div class="container">

<div class="search-box">
  <input type="text" placeholder="SEARCH A PATIENT" />
  <i class="fa fa-search"></i>
</div>

<div class="grid">
  <div class="card">
    <h3>Select Archwires sequence</h3>
    <ul class="selectable">
      <li><label><input type="radio" name="archwire" value="Initial alignment: NiTi wires"><span>Initial alignment: NiTi wires</span></label></li>
      <li><label><input type="radio" name="archwire" value="Working phase: Stainless steel wires"><span>Working phase: Stainless steel wires</span></label></li>
      <li><label><input type="radio" name="archwire" value="Finishing & detailing wires"><span>Finishing & detailing wires</span></label></li>
    </ul>
  </div>

  <div class="card">
    <h3>Select Auxiliaries</h3>
    <ul class="selectable">
      <li><label><input type="checkbox" name="auxiliaries" value="Elastics (rubber bands)"><span>Elastics (rubber bands)</span></label></li>
      <li><label><input type="checkbox" name="auxiliaries" value="Power chains"><span>Power chains</span></label></li>
      <li><label><input type="checkbox" name="auxiliaries" value="Springs"><span>Springs</span></label></li>
      <li><label><input type="checkbox" name="auxiliaries" value="Bite turbos"><span>Bite turbos</span></label></li>
    </ul>
  </div>

  <div class="card">
    <div class="patient">
      <div class="avatar"><i class="fa fa-user"></i></div>
      <b>Samillano, Kristina Casandra</b>
    </div>
    <hr>
    <p><b>Treatment modality:</b></p>
    <p id="treatmentOutput">No selection yet</p>
    <button class="save-btn">SAVE TREATMENT PLAN</button>
  </div>

</div>
<div class="card patient-assessment">
  <div class="card-header">
    <h3>Patient Assessment</h3>
    <div class="actions">
      <button id="editAssessment" class="btn-outline">Edit</button>
      <button id="saveAssessment" class="btn-primary" hidden>Save</button>
    </div>
  </div>

  <div class="card-body">
    <label>Chief Complaint</label>
    <input type="text" id="chiefComplaint" value="crooked teeth, spacing, overbite" disabled>

    <label>Malocclusion</label>
    <select id="malocclusion" disabled>
      <option>Class I</option>
      <option>Class II</option>
      <option>Class III</option>
    </select>

    <label>
      <input type="checkbox" id="crowding" disabled> Crowding / spacing
    </label>

    <label>
      <input type="checkbox" id="overbite" checked disabled> Overbite / overjet
    </label>

    <label>
      <input type="checkbox" id="crossbite" disabled> Crossbite / open bite
    </label>
  </div>
</div>


  <table id="phaseTable">
  <thead>
    <tr>
      <th>Phase</th>
      <th>Description</th>
      <th>Estimated Duration</th>
    </tr>
  </thead>
  <tbody>
    <tr class="phase-row"
        data-phase="Phase 1"
        data-description="Alignment & leveling"
        data-duration="4–6 months">
      <td>Phase 1</td>
      <td>Alignment & leveling</td>
      <td>4–6 months</td>
    </tr>

    <tr class="phase-row"
        data-phase="Phase 2"
        data-description="Space closure & bite correction"
        data-duration="6–12 months">
      <td>Phase 2</td>
      <td>Space closure & bite correction</td>
      <td>6–12 months</td>
    </tr>

    <tr class="phase-row"
        data-phase="Phase 3"
        data-description="Finishing & detailing"
        data-duration="3–6 months">
      <td>Phase 3</td>
      <td>Finishing & detailing</td>
      <td>3–6 months</td>
    </tr>
  </tbody>
</table>
    <button id="saveTreatmentBtn" class="btn-success">
    SAVE TREATMENT PLAN
</button>


  </div>
</div>

</div>
</div>

<script>
const editBtn = document.getElementById("editAssessment");
const saveBtn = document.getElementById("saveAssessment");
const fields = document.querySelectorAll(
  "#chiefComplaint, #malocclusion, #crowding, #overbite, #crossbite"
);

editBtn.onclick = () => {
  fields.forEach(f => f.disabled = false);
  editBtn.hidden = true;
  saveBtn.hidden = false;
};

saveBtn.onclick = () => {
  fields.forEach(f => f.disabled = true);
  editBtn.hidden = false;
  saveBtn.hidden = true;

  alert("Patient assessment saved!");
};


function updateTreatment() {
  const archwire = document.querySelector('input[name="archwire"]:checked');
  const aux = [...document.querySelectorAll('input[name="auxiliaries"]:checked')].map(a => a.value);
  let lines = [];
  if (archwire) lines.push(archwire.value);
  if (aux.length) lines.push(aux.join(', '));
  document.getElementById('treatmentOutput').innerHTML = lines.length ? lines.join('<br>') : 'No selection yet';
}

document.querySelectorAll('input[name="archwire"], input[name="auxiliaries"]').forEach(i => i.addEventListener('change', updateTreatment));

// Phases selection should update the treatment preview
document.querySelectorAll(".phase-row").forEach(row => {
  row.addEventListener("click", () => {
    document.querySelectorAll(".phase-row").forEach(r => r.classList.remove("selected"));
    row.classList.add("selected");
    const text = `${row.dataset.phase} — ${row.dataset.description} (${row.dataset.duration})`;
    document.getElementById('treatmentOutput').innerHTML = text;
    selectedPhase = { phase: row.dataset.phase, description: row.dataset.description, duration: row.dataset.duration };
  });
});

document.getElementById("saveTreatmentBtn").onclick = () => {
  if (!selectedPhase) {
    alert("Please select a treatment phase.");
    return;
  }

  alert(
    `Treatment Plan Saved:\n
     ${selectedPhase.phase}\n
     ${selectedPhase.description}\n
     ${selectedPhase.duration}`
  );

  // Ready for backend save
};

// Sidebar toggle behaviour
document.addEventListener('DOMContentLoaded', function () {
  // Sidebar toggling intentionally disabled: keep sidebar always visible.
  window.toggleSidebar = function () { console.log('Sidebar toggling disabled'); };
  document.getElementById('sidebarOverlay')?.remove();
  document.getElementById('sidebarToggle')?.remove();
  document.body.classList.remove('sidebar-collapsed', 'sidebar-open');
});
</script>
</body>
</html>
