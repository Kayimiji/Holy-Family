<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Smart Dentistry - Clinic Profile</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">

<style>
:root{
  --sidebar-bg:#2c3e50;
  --sidebar-active:#00bfff;
  --bg:#2c3e50;
  --card:#ffffff;
  --shadow:0 4px 12px rgba(0,0,0,.08);
  --text:#2c3e50;
  --btn-primary:#0ea5e9;
  --btn-hover:#0284c7;
  --btn-secondary:#e5e7eb;
  --btn-secondary-hover:#cbd5e1;
  --primary:#0ea5e9;
  --primary-dark:#0284c7;
  --primary-light:#e0f2fe;
  --bg:#eef8fc;
  --card:#ffffff;
  --muted:#64748b;
  --muted-light:#94a3b8;
  --border:#e2e8f0;
  --border-light:#f1f5f9;
  --shadow:0 12px 30px rgba(0,0,0,.08);
  --shadow-sm:0 4px 12px rgba(0,0,0,.05);
  --shadow-lg:0 20px 40px rgba(0,0,0,.12);
  --success:#10b981;
  --warning:#f59e0b;
  --radius:16px;
  --radius-sm:12px;
  --radius-lg:20px;
}

/* ===== BASE ===== */
*{box-sizing:border-box;margin:0;padding:0;font-family:'Inter',sans-serif}
body{background:var(--bg);color:var(--text);}
*{box-sizing:border-box;font-family:'Inter', sans-serif;margin:0}
body{
  background:linear-gradient(180deg,#eef8fc,#f8fbff);
  min-height:100vh;
  position:relative;
}


/* HEADER ENHANCEMENT */
.header {
  padding:20px 24px 0;
  max-width:1400px;
  margin:0 auto;
  display:flex;
  justify-content:space-between;
  align-items:center;
}


.header-title {
  font-size:28px;
  font-weight:800;
  background:linear-gradient(135deg, #0ea5e9, #38bdf8);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
  display:flex;
  align-items:center;
  gap:12px;
}


.header-actions {
  display:flex;
  gap:12px;
}


/* TUTORIAL SYSTEM */
.tutorial-overlay {
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:rgba(15,23,42,0.75);
  z-index:9998;
  display:none;
  backdrop-filter:blur(4px);
}


.tutorial-card {
  position:fixed;
  background:white;
  border-radius:var(--radius-lg);
  padding:32px;
  max-width:440px;
  box-shadow:var(--shadow-lg);
  z-index:9999;
  animation:slideUp 0.3s ease;
  display:none;
}


@keyframes slideUp {
  from { transform:translateY(20px); opacity:0; }
  to { transform:translateY(0); opacity:1; }
}


.tutorial-header {
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:20px;
}


.tutorial-title {
  font-size:22px;
  font-weight:700;
  color:#0f172a;
  display:flex;
  align-items:center;
  gap:10px;
}


.tutorial-title i {
  color:var(--primary);
  font-size:20px;
}


.tutorial-content {
  color:var(--muted);
  line-height:1.6;
  margin-bottom:24px;
  font-size:15px;
}


.tutorial-indicator {
  display:flex;
  justify-content:center;
  gap:8px;
  margin:24px 0;
}


.tutorial-dot {
  width:8px;
  height:8px;
  border-radius:50%;
  background:var(--border);
  transition:all 0.3s ease;
}


.tutorial-dot.active {
  background:var(--primary);
  transform:scale(1.2);
}


.tutorial-actions {
  display:flex;
  justify-content:space-between;
  margin-top:8px;
}
.tutorial-actions button {
  padding:10px 16px;
  border:none;
  border-radius:var(--radius-sm);
  cursor:pointer;
  font-weight:600;
  transition:background 0.3s ease;
}

/* ===== SIDEBAR ===== */
.sidebar{
  width:250px;
  background:var(--sidebar-bg);
  color:#fff;
  position:fixed;
  top:0;left:0;bottom:0;
  display:flex;
  flex-direction:column;
}
.sidebar-header{
  display:flex;
  align-items:center;
  gap:10px;
  padding:20px;
}
.sidebar-logo{
  width:50px;
  height:50px;
  border-radius:50%;
}
.sidebar-title h2{
  font-size:16px;
  color:var(--sidebar-active);
  line-height:1.1;
}
.sidebar-menu{list-style:none;flex-grow:1;}
.sidebar-menu a{
  display:flex;
  align-items:center;
  gap:10px;
  padding:12px 20px;
  color:#fff;
  text-decoration:none;
}
.sidebar-menu a:hover,
.sidebar-menu a.active{
  background:rgba(0,191,255,.2);
  border-left:4px solid var(--sidebar-active);
}
.dropdown .arrow{
  margin-left:auto;
  transition:.3s;
}
.dropdown.open .arrow{
  transform:rotate(180deg);
}
.submenu{
  list-style:none;
  display:none;
  background:#243444;
}
.dropdown.open .submenu{
  display:block;
}
.submenu a{
  padding:10px 40px;
  font-size:14px;
}

/* ===== MAIN ===== */
/* ===== TOP NAV HEADER ===== */
.top-header{
  position:fixed;
  top:0;
  left:250px; /* same as sidebar width */
  right:0;
  height:64px;
  background:#ffffff;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 28px;
  box-shadow:0 2px 10px rgba(0,0,0,.08);
  z-index:900;
}

.top-header h1{
  font-size:20px;
  font-weight:700;
  color:var(--btn-primary);
  display:flex;
  align-items:center;
  gap:10px;
}

.top-header .header-actions{
  display:flex;
  align-items:center;
  gap:16px;
}

.top-header .header-actions i{
  font-size:18px;
  cursor:pointer;
  color:#475569;
}

.top-header .header-actions i:hover{
  color:var(--btn-primary);
}
/* PUSH MAIN CONTENT DOWN */
.main{
  margin-top:80px;
}

.main{
  margin-left:250px;
  width:calc(100% - 250px);
  display:flex;
  flex-direction:row;
  gap:20px;
  padding:20px;
}

/* LEFT & RIGHT COLUMNS */
.left-column, .right-column{
  background:var(--card);
  padding:25px;
  border-radius:16px;
  box-shadow:var(--shadow);
}
.left-column{flex:2;}
.right-column{flex:1; max-height:90vh; overflow-y:auto; position:relative;}

/* FORM & STEP */
.stepper{
  display:flex;
  justify-content:space-between;
  margin-bottom:20px;
}
.step{
  flex:1;
  margin:0 5px;
  padding:8px;
  border-radius:20px;
  background:#e5e7eb;
  text-align:center;
  font-weight:600;
  color:#555;
}
.step.active{background:var(--btn-primary);color:#fff;}
label{display:block;margin-top:12px;font-weight:600;}
input{width:100%;padding:10px;border-radius:8px;border:1px solid #ccc;margin-top:6px;}
.signature-box{border:2px dashed #cbd5e1;border-radius:12px;height:120px;display:flex;align-items:center;justify-content:center;color:#94a3b8;margin-top:6px;}
.btn{margin-top:15px;padding:10px 16px;border-radius:10px;border:none;cursor:pointer;font-weight:bold;}
.btn-primary{background:var(--btn-primary);color:#fff;}
.btn-primary:hover{background:var(--btn-hover);}
.btn-secondary{background:var(--btn-secondary);color:#000;width:auto;padding:6px 16px;}
.btn-secondary:hover{background:var(--btn-secondary-hover);}

/* Staff List Enhancement */
.profile-grid{
  display:grid;
  gap:20px;
  margin-top:12px;
  max-height:400px;
  overflow-y:auto;
  padding-right:8px;
}


.profile-grid::-webkit-scrollbar {
  width:6px;
}


.profile-grid::-webkit-scrollbar-track {
  background:var(--border-light);
  border-radius:10px;
}


.profile-grid::-webkit-scrollbar-thumb {
  background:var(--muted-light);
  border-radius:10px;
}


.profile-card{
  border-radius:var(--radius);
  padding:22px;
  background:linear-gradient(145deg, #ffffff, #f8fafc);
  border:1px solid var(--border);
  transition:all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow:var(--shadow-sm);
  position:relative;
  overflow:hidden;
}


.profile-card::before {
  content:'';
  position:absolute;
  top:0;
  left:0;
  width:4px;
  height:100%;
  background:var(--primary);
  transform:scaleY(0);
  transition:transform 0.3s ease;
}


.profile-card:hover::before {
  transform:scaleY(1);
}


.profile-card:hover{
  transform:translateY(-4px) scale(1.01);
  box-shadow:var(--shadow);
  border-color:var(--primary);
}


.profile-card strong{
  font-size:16px;
  color:#0f172a;
  display:block;
  margin-bottom:6px;
  font-weight:700;
}


.profile-card small{
  color:var(--muted);
  display:block;
  font-size:13px;
  line-height:1.5;
  margin-bottom:6px;
  padding-left:4px;
}


.profile-card .income-badge {
  background:linear-gradient(135deg, var(--primary-light), rgba(14,165,233,0.1));
  color:var(--primary-dark);
  padding:6px 12px;
  border-radius:20px;
  font-weight:700;
  font-size:13px;
  display:inline-block;
  margin-top:10px;
  border:1px solid rgba(14,165,233,0.2);
}


.profile-card .btn-primary {
  margin-top:16px;
  padding:10px 20px;
  font-size:13px;
  width:100%;
  background:var(--primary);
  border-radius:var(--radius-sm);
  display:flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  transition:all 0.3s ease;
}


.profile-card .btn-primary:hover {
  background:var(--primary-dark);
  transform:translateY(-2px);
  box-shadow:0 6px 16px rgba(14,165,233,0.25);
}


/* Empty State Enhancement */
.profile-grid:empty::before {
  content:"üë®‚Äç‚öïÔ∏è No staff members added yet";
  text-align:center;
  color:var(--muted);
  font-style:normal;
  padding:50px 20px;
  font-size:15px;
  background:linear-gradient(145deg, #f8fafc, #ffffff);
  border-radius:var(--radius);
  border:2px dashed var(--border);
  font-weight:500;
}


/* Income Section Enhancement */
.total-income{
  margin-top:32px;
  padding:26px;
  border-radius:var(--radius);
  background:linear-gradient(135deg,#0ea5e9,#38bdf8);
  color:#fff;
  text-align:center;
  position:relative;
  overflow:hidden;
  box-shadow:0 8px 32px rgba(14,165,233,0.25);
  border:1px solid rgba(255,255,255,0.2);
  backdrop-filter:blur(10px);
}


.total-income::before {
  content:"";
  position:absolute;
  top:0;
  left:0;
  right:0;
  bottom:0;
  background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="rgba(255,255,255,0.1)"/></svg>');
  background-size:cover;
}


.total-income span {
  font-size:36px;
  font-weight:800;
  display:block;
  margin-top:8px;
  text-shadow:0 4px 8px rgba(0,0,0,0.15);
  letter-spacing:-0.5px;
}


.total-income::after {
  content:"Total Monthly Income";
  font-size:14px;
  font-weight:600;
  letter-spacing:1px;
  opacity:0.9;
  display:block;
}


/* LEFT COLUMN ENHANCEMENT */
.left-column h2 {
  font-size:24px;
  font-weight:800;
  margin-bottom:24px;
  color:#0f172a;
  display:flex;
  align-items:center;
  gap:12px;
}


.left-column h2 i {
  background:linear-gradient(135deg, var(--primary-light), rgba(14,165,233,0.15));
  width:48px;
  height:48px;
  border-radius:14px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  color:var(--primary);
  font-size:20px;
}


/* FORM ENHANCEMENT */
.form-group {
  margin-bottom:22px;
  position:relative;
}


label{
  font-size:14px;
  color:#334155;
  margin-bottom:8px;
  display:block;
  font-weight:600;
}


input,select{
  width:100%;
  padding:14px 16px;
  margin-top:6px;
  border-radius:var(--radius-sm);
  border:1px solid var(--border);
  font-size:15px;
  transition:all 0.3s ease;
  background:#ffffff;
  box-shadow:0 2px 4px rgba(0,0,0,0.02);
}


input:focus,select:focus{
  outline:none;
  border-color:var(--primary);
  box-shadow:0 0 0 4px rgba(14,165,233,0.15);
  transform:translateY(-1px);
}


/* SIGNATURE ENHANCEMENT */
.signature-container {
  background:linear-gradient(145deg, #f8fafc, #ffffff);
  border-radius:var(--radius-sm);
  padding:20px;
  border:2px dashed var(--border);
  margin:16px 0;
}


canvas{
  background:#ffffff;
  cursor:crosshair;
  border-radius:var(--radius-sm);
  border:1px solid var(--border);
  display:block;
  margin:0 auto;
  box-shadow:0 4px 12px rgba(0,0,0,0.05);
}


/* BUTTONS ENHANCEMENT */
.btn{
  padding:12px 24px;
  border:none;
  border-radius:var(--radius-sm);
  font-weight:600;
  cursor:pointer;
  transition:all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  font-size:14px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  position:relative;
  overflow:hidden;
}


.btn-primary{
  background:linear-gradient(135deg, var(--primary), var(--primary-dark));
  color:#fff;
  border:none;
}


.btn-primary:hover{
  background:linear-gradient(135deg, var(--primary-dark), #0369a1);
  transform:translateY(-2px);
  box-shadow:0 8px 20px rgba(14,165,233,0.3);
}


.btn-secondary{
  background:linear-gradient(145deg, #f1f5f9, #e2e8f0);
  color:#475569;
  border:1px solid #cbd5e1;
}


.btn-secondary:hover{
  background:linear-gradient(145deg, #e2e8f0, #cbd5e1);
  transform:translateY(-2px);
  box-shadow:0 4px 12px rgba(0,0,0,0.1);
}


/* MODAL ENHANCEMENT */
.modal{
  position:fixed;
  inset:0;
  background:rgba(15,23,42,.75);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:9999;
  backdrop-filter:blur(8px);
}
.modal-box{
  background:linear-gradient(145deg, #ffffff, #f8fafc);
  width:420px;
  padding:32px;
  border-radius:var(--radius-lg);
  box-shadow:var(--shadow-lg);
  animation:modalAppear 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  border:1px solid rgba(255,255,255,0.8);
}


@keyframes modalAppear {
  from{transform:scale(0.9) translateY(20px);opacity:0}
  to{transform:scale(1) translateY(0);opacity:1}
}


.modal-header{
  font-size:22px;
  font-weight:700;
  margin-bottom:24px;
  color:#0f172a;
  display:flex;
  align-items:center;
  gap:12px;
}


.modal-header::before {
  content:'';
  width:4px;
  height:24px;
  background:var(--primary);
  border-radius:2px;
}


.modal-actions{
  display:flex;
  justify-content:flex-end;
  gap:12px;
  margin-top:32px;
}


/* TUTORIAL HIGHLIGHTS */
.tutorial-highlight {
  position:relative;
  z-index:100;
}


.tutorial-highlight::after {
  content:'';
  position:absolute;
  top:-6px;
  left:-6px;
  right:-6px;
  bottom:-6px;
  border:2px solid var(--primary);
  border-radius:var(--radius-sm);
  animation:pulse 2s infinite;
  pointer-events:none;
}


@keyframes pulse {
  0%, 100% { opacity:0.5; }
  50% { opacity:1; }
}


/* LOADING STATE */
.loading-shimmer {
  background:linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size:200% 100%;
  animation:shimmer 1.5s infinite;
}


@keyframes shimmer {
  0% { background-position:-200% 0; }
  100% { background-position:200% 0; }
}


/* RESPONSIVE DESIGN */
@media (max-width: 1200px) {
  .main {
    grid-template-columns:1fr;
    max-width:800px;
  }
 
  .right-column {
    position:static;
    animation:none;
  }
}


@media (max-width: 768px) {
  .header {
    flex-direction:column;
    gap:16px;
    text-align:center;
  }
 
  .main {
    padding:16px;
  }
 
  .left-column, .right-column {
    padding:24px;
  }
 
  .tutorial-card {
    width:90%;
    margin:0 auto;
  }
}


/* NOTIFICATION */
.notification {
  position:fixed;
  top:20px;
  right:20px;
  background:white;
  padding:16px 24px;
  border-radius:var(--radius);
  box-shadow:var(--shadow-lg);
  display:flex;
  align-items:center;
  gap:12px;
  transform:translateX(120%);
  transition:transform 0.3s ease;
  z-index:10000;
  border-left:4px solid var(--primary);
}


.notification.show {
  transform:translateX(0);
}


.notification i {
  color:var(--primary);
  font-size:20px;
}


/* WALKTHROUGH */
.overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.65);
  display:none;
  z-index:9998;
}
.spotlight{
  box-shadow:0 0 0 9999px rgba(255, 255, 255, 0);
  border-radius:12px;
  position:relative;
  z-index:9999;
}
.walkthrough-box{
  position:fixed;bottom:30px;right:30px;width:320px;background:#fff;padding:18px;border-radius:16px;
  box-shadow:0 15px 40px rgba(255,255,255,.912);z-index:10000;
}
.walkthrough-box h4{margin:0 0 10px;color:var(--btn-primary);}
.walkthrough-box .hint{font-size:13px;color:var(--btn-primary);margin-top:8px;}
.controls{display:flex;justify-content:space-between;margin-top:15px;}
.controls button{border:none;border-radius:8px;padding:8px 12px;cursor:pointer;font-weight:bold;}
.arrow{
  position:absolute;width:0;height:0;
  border-left:14px solid transparent;border-right:14px solid transparent;
  border-bottom:22px solid var(--btn-primary);animation:bounce 1s infinite;
  z-index:10001;display:none;
}
@keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
</style>
</head>

<body>
<!-- SIDEBAR -->
<aside class="sidebar">
  <div class="sidebar-header">
    <img src="logo.png" class="sidebar-logo">
    <div class="sidebar-title"><h2>SMART<br>DENTISTRY</h2></div>
  </div>
  <ul class="sidebar-menu">
    <li><a href="admin.html"><i class="fas fa-home"></i> Dashboard</a></li>
    <li class="dropdown open">
      <a href="#" class="dropdown-toggle"><i class="fas fa-tooth"></i> My Clinic <i class="fas fa-chevron-down arrow"></i></a>
      <ul class="submenu">
        <li><a href="clinic-profile.html" class="active"><i class="fas fa-clinic-medical"></i> Clinic Profile</a></li>
        <li><a href="odontogram-prescription.html"><i class="fas fa-tooth"></i> Dental Chart</a></li>
        <li><a href="Braces-Treatment.html" ><i class="fas fa-chain"></i> Braces Treatment</a></li>
        <li><a href="View.html"><i class="fas fa-file-medical"></i> Patient Records</a></li>
      </ul>
    </li>
    <li><a href="appointment-logs.html"><i class="fas fa-clipboard-list"></i> Appointment Logs</a></li>
    <li><a href="patients.html"><i class="fas fa-users"></i> Patients</a></li>
    <li><a href="Finance.html"><i class="fas fa-dollar-sign"></i> Finance</a></li>
    <li><a href="Reports.html"><i class="fas fa-chart-line"></i> Reports</a></li>
    <li><a href="landingpage.html"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
  </ul>
  <!-- Add Return to Home menu at the bottom -->
    <div style="position: absolute; bottom: 20px; width: 13%;">
    <div style="position: absolute; bottom: 20px; width: 100%;">
    <ul class="sidebar-menu settings-menu">
    <li><a href="Admin settings.html"><i class="fas fa-cog"></i> Settings</a></li>
    </ul>
    <ul class="sidebar-menu return-home-menu">
    <li><a href="landingpage.html"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
    </ul>
    </div>
    </div>
</aside>
<!-- TOP NAVIGATION HEADER -->
<header class="top-header">
  <h1>
    <i class="fas fa-clinic-medical"></i>
    Clinic Profile
  </h1>

  <div class="header-actions">
    <i class="fas fa-bell" title="Notifications"></i>
    <i class="fas fa-user-circle" title="Account"></i>
  </div>
</header>

<!-- MAIN -->
<div class="main">
  <!-- LEFT COLUMN: Clinic Form -->
  <div class="left-column">
    <div class="stepper">
      <div class="step active" id="step1">Clinic</div>
      <div class="step" id="step2">Dentist</div>
      <div class="step" id="step3">Finish</div>
    </div>
    <label>Clinic Name</label>
    <input id="clinicName" readonly>
    <label>Contact Number</label>
    <input id="clinicContact" readonly>
    <label>Address</label>
    <input id="clinicAddress" readonly>   
    <label>Dentist Name</label>
    <input id="dentistName" readonly>
    <label>Email</label>
    <input id="dentistEmail" readonly
    <label>Signature</label>
    <div class="signature-box" id="signatureBox">Draw here</div>
    <button class="btn-secondary" onclick="clearForm()">Clear</button>
    <label>Clinic Logo</label>
    <input type="file" id="clinicLogo" disabled>
    <div style="display:flex; gap:12px; margin-top:16px">
    <button class="btn-secondary" id="editProfileBtn" onclick="enableEdit()">Edit Profile</button>
    <button class="btn-primary" id="saveProfileBtn" onclick="saveProfile()" disabled>Save Profile</button>
</div>

  </div>

  <!-- RIGHT COLUMN: Staff Profiles -->
  <div class="right-column">
    <h2>Dentist / Staff Profiles</h2>
    <div class="setup-card">
      <label>Name</label>
      <input id="staffName">
      <label>Position</label>
      <input id="staffPosition">
      <label>Email</label>
      <input id="staffEmail">
      <label>Phone</label>
      <input id="staffPhone">
      <button class="btn-primary" onclick="addStaff()">Add Staff</button>
    </div>
    <div class="profile-grid" id="profileGrid"></div>
  </div>
</div>
<!-- TUTORIAL SYSTEM -->
<div class="tutorial-overlay" id="tutorialOverlay" onclick="hideTutorial()"></div>


<div class="tutorial-card" id="tutorialCard">
  <div class="tutorial-header">
    <div class="tutorial-title">
      <i class="fas fa-graduation-cap"></i>
      <span id="tutorialStepTitle">Welcome to Smart Dentistry</span>
    </div>
    <button class="btn btn-secondary" onclick="hideTutorial()" style="padding:8px 12px">
      <i class="fas fa-times"></i>
    </button>
  </div>
 
  <div class="tutorial-content" id="tutorialStepContent">
    Let's walk through the features of your clinic management system.
  </div>
 
  <div class="tutorial-indicator">
    <div class="tutorial-dot active" id="dot1"></div>
    <div class="tutorial-dot" id="dot2"></div>
    <div class="tutorial-dot" id="dot3"></div>
    <div class="tutorial-dot" id="dot4"></div>
    <div class="tutorial-dot" id="dot5"></div>
    <div class="tutorial-dot" id="dot6"></div>
  </div>
 
  <div class="tutorial-actions">
    <button class="btn btn-secondary" onclick="prevStep()" id="prevBtn" style="display:none">
      <i class="fas fa-arrow-left"></i> Previous
    </button>
    <button class="btn btn-primary" onclick="nextStep()" id="nextBtn">
      Next <i class="fas fa-arrow-right"></i>
    </button>
  </div>
</div>


<!-- NOTIFICATION -->
<div class="notification" id="notification">
  <i class="fas fa-check-circle"></i>
  <span id="notificationText">Profile saved successfully!</span>
</div>


<!-- Tutorial Button -->
<button id="tutorialBtn" onclick="startTutorial()">Tutorial</button>

<!-- WALKTHROUGH -->
<div class="overlay" id="overlay"></div>
<div id="arrow" class="arrow"></div>
<div class="walkthrough-box" id="walkBox">
  <h4 id="walkTitle"></h4>
  <p id="walkText"></p>
  <div class="hint">üëÜ Follow the arrow and complete this step</div>
  <div class="controls">
    <button onclick="skipTour()">Skip</button>
    <button onclick="nextTour()">Next</button>
  </div>
</div>
<!-- DENTIST EDIT MODAL -->
<div class="modal" id="editDentistModal">
  <div class="modal-box">
    <div class="modal-header">
      <span id="editDentistTitle">Edit Dentist Profile</span>
      <i class="fas fa-times" onclick="closeEditDentistModal()"></i>
    </div>

    <div class="modal-body">
      <label>Full Name *</label>
      <input id="editDentistName" placeholder="Dr. John Smith">

      <label>Email Address</label>
      <input id="editDentistEmail" type="email" placeholder="doctor@clinic.com">

      <label>Phone Number</label>
      <input id="editDentistPhone" placeholder="+1 (555) 123-4567">

      <label>Specialty</label>
      <input id="editDentistSpecialty" placeholder="Orthodontics, Pedodontics, etc.">

      <label>Role</label>
      <select id="editDentistRole">
        <option>Dentist</option>
        <option>Assistant</option>
        <option>Hygienist</option>
        <option>Receptionist</option>
      </select>

      <label>Monthly Income (‚Ç±)</label>
      <input id="editDentistIncome" type="number" placeholder="50000">
    </div>

    <div class="modal-actions">
      <button class="btn btn-secondary" onclick="closeEditDentistModal()">
        <i class="fas fa-times"></i> Cancel
      </button>
      <button class="btn btn-primary" onclick="saveEditedDentist()">
        <i class="fas fa-check"></i> Save Changes
      </button>
    </div>
  </div>
</div>
<!-- ADD DENTIST MODAL -->  


<script>
let currentEditDentistIndex = null;

// OPEN EDIT DENTIST MODAL
function openEditDentistModal(index) {
  currentEditDentistIndex = index;
  const dentist = dentists[index];
  document.getElementById("editDentistTitle").innerText = `Edit Dentist Profile - ${dentist.name}`;
  document.getElementById("editDentistName").value = dentist.name;
  document.getElementById("editDentistEmail").value = dentist.email;
  document.getElementById("editDentistPhone").value = dentist.phone;
  document.getElementById("editDentistSpecialty").value = dentist.specialty;
  document.getElementById("editDentistRole").value = dentist.role;
  document.getElementById("editDentistIncome").value = dentist.income;
  document.getElementById("editDentistModal").style.display = "flex";
}

function closeEditDentistModal() {
  document.getElementById("editDentistModal").style.display = "none";
}

// SAVE EDITED DENTIST
function saveEditedDentist() {
  const dentist = dentists[currentEditDentistIndex];
  dentist.name = document.getElementById("editDentistName").value.trim();
  dentist.email = document.getElementById("editDentistEmail").value.trim();
  dentist.phone = document.getElementById("editDentistPhone").value.trim();
  dentist.specialty = document.getElementById("editDentistSpecialty").value.trim();
  dentist.role = document.getElementById("editDentistRole").value;
  dentist.income = Number(document.getElementById("editDentistIncome").value || 0);

  renderDentists(); // re-render the dentist grid
  closeEditDentistModal();
  showNotification(`${dentist.name}'s profile updated successfully!`);
}

// UPDATE RENDER FUNCTION TO INCLUDE EDIT BUTTON
function renderDentists() {
  const grid = document.getElementById('profileGrid');
  let totalIncome = 0;

  if (dentists.length === 0) {
    grid.innerHTML = '';
    return;
  }

  grid.innerHTML = dentists.map((dentist, index) => {
    totalIncome += dentist.income;
    const roleIcon = dentist.role === 'Dentist' ? 'fa-user-md' :
                    dentist.role === 'Assistant' ? 'fa-user-nurse' :
                    dentist.role === 'Hygienist' ? 'fa-hand-holding-medical' : 'fa-user-tie';

    return `
      <div class="profile-card">
        <div style="display:flex;align-items:center;gap:12px;margin-bottom:12px">
          <i class="fas ${roleIcon}" style="color:var(--primary);font-size:20px"></i>
          <div>
            <strong>${dentist.name}</strong>
            <small style="color:var(--primary);font-weight:600">${dentist.role}</small>
          </div>
        </div>
        ${dentist.specialty ? `<small><i class="fas fa-stethoscope"></i> ${dentist.specialty}</small>` : ''}
        ${dentist.email ? `<small><i class="fas fa-envelope"></i> ${dentist.email}</small>` : ''}
        ${dentist.phone ? `<small><i class="fas fa-phone"></i> ${dentist.phone}</small>` : ''}
        <div class="income-badge">
          <i class="fas fa-money-bill-wave"></i> ‚Ç±${dentist.income.toLocaleString()} / month
        </div>
        <button class="btn btn-primary" onclick="openEditDentistModal(${index})">
          <i class="fas fa-edit"></i> Edit Profile
        </button>
      </div>
    `;
  }).join('');
}

let editingIndex = null; // Track which dentist is being edited

function editDentist(index) {
  const dentist = dentists[index];
  if (!dentist) return;

  // Save the index for updating
  editingIndex = index;

  // Fill modal inputs with existing data
  document.getElementById('mName').value = dentist.name;
  document.getElementById('mEmail').value = dentist.email;
  document.getElementById('mPhone').value = dentist.phone;
  document.getElementById('mSpecialty').value = dentist.specialty;
  document.getElementById('mRole').value = dentist.role;
  document.getElementById('mIncome').value = dentist.income;

  // Change modal button text to "Update Dentist"
  const modalBtn = document.querySelector('#dentistModal .btn-primary');
  modalBtn.innerHTML = `<i class="fas fa-check"></i> Update Dentist`;
  modalBtn.onclick = updateDentist;

  // Open modal
  openModal();
}
function updateDentist() {
  if (editingIndex === null) return;

  const dentist = dentists[editingIndex];
  dentist.name = document.getElementById('mName').value.trim();
  dentist.email = document.getElementById('mEmail').value.trim();
  dentist.phone = document.getElementById('mPhone').value.trim();
  dentist.specialty = document.getElementById('mSpecialty').value.trim();
  dentist.role = document.getElementById('mRole').value;
  dentist.income = Number(document.getElementById('mIncome').value || 0);

  // Clear editing index
  editingIndex = null;

  // Reset modal button back to "Add Dentist"
  const modalBtn = document.querySelector('#dentistModal .btn-primary');
  modalBtn.innerHTML = `<i class="fas fa-check"></i> Add Dentist`;
  modalBtn.onclick = addDentist;

  // Close modal and re-render dentists
  closeModal();
  renderDentists();

  showNotification(`${dentist.name}'s profile updated successfully`);
}

  /* ===== EDIT CLINIC PROFILE ===== */
function enableEdit(){
  [
    "clinicName",
    "clinicContact",
    "clinicAddress",
    "dentistName",
    "dentistEmail"
  ].forEach(id=>{
    const el = document.getElementById(id);
    if(el){
      el.removeAttribute("readonly");
      el.style.borderColor = "var(--primary)";
    }
  });

  document.getElementById("clinicLogo").disabled = false;

  document.getElementById("saveProfileBtn").disabled = false;
  document.getElementById("editProfileBtn").disabled = true;

  showNotification("Edit mode enabled");
}

function saveProfile(){
  [
    "clinicName",
    "clinicContact",
    "clinicAddress",
    "dentistName",
    "dentistEmail"
  ].forEach(id=>{
    const el = document.getElementById(id);
    if(el){
      el.setAttribute("readonly", true);
      el.style.borderColor = "";
    }
  });

  document.getElementById("clinicLogo").disabled = true;
  document.getElementById("saveProfileBtn").disabled = true;
  document.getElementById("editProfileBtn").disabled = false;

  showNotification("Clinic profile saved successfully");
}

/* ===== STAFF MANAGEMENT ===== */
let dentists = [];


function addDentist() {
  const name = document.getElementById('mName').value.trim();
  if (!name) {
    showNotification("Please enter dentist name");
    return;
  }


  const dentist = {
    name: name,
    email: document.getElementById('mEmail').value.trim(),
    phone: document.getElementById('mPhone').value.trim(),
    specialty: document.getElementById('mSpecialty').value.trim(),
    role: document.getElementById('mRole').value,
    income: Number(document.getElementById('mIncome').value || 0)
  };


  dentists.push(dentist);
 
  // Clear form
  ['mName', 'mEmail', 'mPhone', 'mSpecialty', 'mIncome'].forEach(id => {
    document.getElementById(id).value = '';
  });
 
  closeModal();
  renderDentists();
  showNotification(`${dentist.name} added successfully`);
}


function renderDentists() {
  const grid = document.getElementById('profileGrid');
  let total = 0;
 
  if (dentists.length === 0) {
    grid.innerHTML = '';
    updateTotalIncome(0);
    return;
  }
 
  grid.innerHTML = dentists.map((dentist, index) => {
    total += dentist.income;
   
    const roleIcon = dentist.role === 'Dentist' ? 'fa-user-md' :
                    dentist.role === 'Assistant' ? 'fa-user-nurse' :
                    dentist.role === 'Hygienist' ? 'fa-hand-holding-medical' : 'fa-user-tie';
   
    return `
      <div class="profile-card">
        <div style="display:flex;align-items:center;gap:12px;margin-bottom:12px">
          <i class="fas ${roleIcon}" style="color:var(--primary);font-size:20px"></i>
          <div>
            <strong>${dentist.name}</strong>
            <small style="color:var(--primary);font-weight:600">${dentist.role}</small>
          </div>
        </div>
        ${dentist.specialty ? `<small><i class="fas fa-stethoscope"></i> ${dentist.specialty}</small>` : ''}
        ${dentist.email ? `<small><i class="fas fa-envelope"></i> ${dentist.email}</small>` : ''}
        ${dentist.phone ? `<small><i class="fas fa-phone"></i> ${dentist.phone}</small>` : ''}
        <div class="income-badge">
          <i class="fas fa-money-bill-wave"></i> ‚Ç±${dentist.income.toLocaleString()} / month
        </div>
        <button class="btn btn-primary" onclick="saveDentist(${index})">
          <i class="fas fa-edit"></i> Edit Profile
        </button>
      </div>
    `;
  }).join('');
 
  updateTotalIncome(total);
}


function saveDentist(index) {
  showNotification(`${dentists[index].name}'s profile saved`);
}


function updateTotalIncome(total) {
  document.getElementById('totalIncome').textContent = total.toLocaleString();
  // Add animation effect
  const incomeElement = document.getElementById('totalIncome');
  incomeElement.style.transform = 'scale(1.1)';
  setTimeout(() => {
    incomeElement.style.transform = 'scale(1)';
  }, 300);
}
/* ===== INITIALIZATION ===== */
document.addEventListener('DOMContentLoaded', function() {
  // Add sample data for demonstration
  if (dentists.length === 0) {
    dentists = [
      {
        name: "Dr. Sarah Johnson",
        email: "sarah@dentalclinic.com",
        phone: "+1 (555) 123-4567",
        specialty: "Orthodontics",
        role: "Dentist",
        income: 85000
      },
      {
        name: "Dr. Michael Chen",
        email: "michael@dentalclinic.com",
        phone: "+1 (555) 987-6543",
        specialty: "Oral Surgery",
        role: "Dentist",
        income: 95000
      }
    ];
    renderDentists();
  }
 
  // Auto-show tutorial on first visit
  if (!localStorage.getItem('tutorialCompleted')) {
    setTimeout(() => {
      showTutorial(0);
    }, 1000);
  }
 
  // Mark tutorial as completed when finished
  document.getElementById('nextBtn').addEventListener('click', function() {
    if (currentStep === tutorialSteps.length - 1) {
      localStorage.setItem('tutorialCompleted', 'true');
    }
  });
});



/* ===== TUTORIAL SYSTEM ===== */
const tutorialSteps = [
  {
    title: "Welcome to Smart Dentistry",
    content: "This is your clinic management dashboard. Let's get started by setting up your clinic profile.",
    highlight: null
  },
  {
    title: "Clinic Information",
    content: "Enter your clinic name here. This will be displayed on all documents and reports.",
    highlight: ".tutorial-step-1"
  },
  {
    title: "Contact Details",
    content: "Add your primary contact email for appointment notifications and patient communications.",
    highlight: ".tutorial-step-2"
  },
  {
    title: "Digital Signature",
    content: "Draw your signature using your mouse or touchscreen. This will be used for digital prescriptions and documents.",
    highlight: ".tutorial-step-3"
  },
  {
    title: "Clinic Logo",
    content: "Upload your clinic logo for branding on reports and patient communications.",
    highlight: ".tutorial-step-4"
  },
  {
    title: "Staff Management",
    content: "Add your dentists and staff members here. Click this button to add new team members.",
    highlight: ".tutorial-step-5"
  },
  {
    title: "Income Overview",
    content: "Track your total monthly income from all dentists. This updates automatically as you add staff.",
    highlight: ".tutorial-step-6"
  }
];


let currentStep = 0;


function showTutorial(step = 0) {
  currentStep = step;
  updateTutorial();
  document.getElementById('tutorialOverlay').style.display = 'block';
  document.getElementById('tutorialCard').style.display = 'block';
 
  // Position tutorial card
  const card = document.getElementById('tutorialCard');
  card.style.top = '50%';
  card.style.left = '50%';
  card.style.transform = 'translate(-50%, -50%)';
 
  // Highlight element
  highlightStep(currentStep);
}


function hideTutorial() {
  document.getElementById('tutorialOverlay').style.display = 'none';
  document.getElementById('tutorialCard').style.display = 'none';
  removeHighlights();
}


function updateTutorial() {
  const step = tutorialSteps[currentStep];
  document.getElementById('tutorialStepTitle').textContent = step.title;
  document.getElementById('tutorialStepContent').textContent = step.content;
 
  // Update dots
  document.querySelectorAll('.tutorial-dot').forEach((dot, index) => {
    dot.classList.toggle('active', index === currentStep);
  });
 
  // Update buttons
  document.getElementById('prevBtn').style.display = currentStep === 0 ? 'none' : 'flex';
  document.getElementById('nextBtn').innerHTML = currentStep === tutorialSteps.length - 1
    ? 'Finish <i class="fas fa-check"></i>'
    : 'Next <i class="fas fa-arrow-right"></i>';
}


function nextStep() {
  if (currentStep < tutorialSteps.length - 1) {
    currentStep++;
    updateTutorial();
    highlightStep(currentStep);
  } else {
    hideTutorial();
    showNotification("Tutorial completed!");
  }
}


function prevStep() {
  if (currentStep > 0) {
    currentStep--;
    updateTutorial();
    highlightStep(currentStep);
  }
}


function highlightStep(step) {
  removeHighlights();
  const highlightClass = tutorialSteps[step].highlight;
  if (highlightClass) {
    const elements = document.querySelectorAll(highlightClass);
    elements.forEach(el => {
      el.classList.add('tutorial-highlight');
      el.scrollIntoView({ behavior: 'smooth', block: 'center' });
    });
  }
}


function removeHighlights() {
  document.querySelectorAll('.tutorial-highlight').forEach(el => {
    el.classList.remove('tutorial-highlight');
  });
}


/* ===== NOTIFICATION SYSTEM ===== */
function showNotification(message) {
  const notification = document.getElementById('notification');
  document.getElementById('notificationText').textContent = message;
  notification.classList.add('show');
  setTimeout(() => {
    notification.classList.remove('show');
  }, 3000);
}


/* ===== SIGNATURE CANVAS ===== */
const canvas = document.getElementById("signatureCanvas");
const ctx = canvas.getContext("2d");
ctx.lineWidth = 2;
ctx.lineCap = 'round';
ctx.lineJoin = 'round';
ctx.strokeStyle = "#0ea5e9";
let drawing = false;
let lastX = 0;
let lastY = 0;


canvas.addEventListener('mousedown', (e) => {
  drawing = true;
  [lastX, lastY] = [e.offsetX, e.offsetY];
});


canvas.addEventListener('mousemove', (e) => {
  if (!drawing) return;
  ctx.beginPath();
  ctx.moveTo(lastX, lastY);
  ctx.lineTo(e.offsetX, e.offsetY);
  ctx.stroke();
  [lastX, lastY] = [e.offsetX, e.offsetY];
});


canvas.addEventListener('mouseup', () => drawing = false);
canvas.addEventListener('mouseout', () => drawing = false);


// Touch support
canvas.addEventListener('touchstart', (e) => {
  e.preventDefault();
  drawing = true;
  const rect = canvas.getBoundingClientRect();
  const touch = e.touches[0];
  lastX = touch.clientX - rect.left;
  lastY = touch.clientY - rect.top;
});


canvas.addEventListener('touchmove', (e) => {
  if (!drawing) return;
  e.preventDefault();
  const rect = canvas.getBoundingClientRect();
  const touch = e.touches[0];
  const x = touch.clientX - rect.left;
  const y = touch.clientY - rect.top;
 
  ctx.beginPath();
  ctx.moveTo(lastX, lastY);
  ctx.lineTo(x, y);
  ctx.stroke();
  [lastX, lastY] = [x, y];
});


canvas.addEventListener('touchend', () => drawing = false);


function clearSignature() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  showNotification("Signature cleared");
}


/* ===== LOGO UPLOAD ===== */
document.getElementById('clinicLogo').onchange = function(e) {
  const reader = new FileReader();
  reader.onload = function() {
    const preview = document.getElementById('logoPreview');
    preview.src = reader.result;
    preview.style.display = 'block';
    preview.style.border = '2px solid var(--primary)';
    showNotification("Logo uploaded successfully");
  }
  reader.readAsDataURL(e.target.files[0]);
}


/* ===== MODAL FUNCTIONS ===== */
function openModal() {
  document.getElementById('dentistModal').style.display = 'flex';
}


function closeModal() {
  document.getElementById('dentistModal').style.display = 'none';
}


// ===== CLINIC FORM =====
function clearForm(){
  ["clinicName","clinicContact","clinicAddress","dentistName","dentistEmail"].forEach(id=>document.getElementById(id).value="");
}
function saveProfile(){ alert("Clinic profile saved!"); }

// ===== TUTORIAL =====
const steps = [
  { el:"#clinicName", title:"Clinic Name", text:"Enter clinic name." },
  { el:"#dentistName", title:"Dentist Name", text:"Enter main dentist." },
  { el:"#signatureBox", title:"Signature", text:"Draw digital signature." },
  { el:"#clinicLogo", title:"Clinic Logo", text:"Upload your clinic logo." },
  { el:"#saveProfileBtn", title:"Save Profile", text:"Click to save clinic profile." }
];

let current = 0;
function showStep(i){
  document.querySelectorAll(".spotlight").forEach(e=>e.classList.remove("spotlight"));
  const step = steps[i];
  const el = document.querySelector(step.el);
  const rect = el.getBoundingClientRect();
  el.classList.add("spotlight");
  document.getElementById("walkTitle").innerText = step.title;
  document.getElementById("walkText").innerText = step.text;
  const arrow = document.getElementById("arrow");
  arrow.style.left = rect.left + rect.width/2 - 14 + "px";
  arrow.style.top = rect.top - 35 + "px";
  arrow.style.display = "block";
  document.getElementById("overlay").style.display="block";
  document.getElementById("walkBox").style.display="block";
} 
function nextTour(){ current++; if(current>=steps.length){ endTour(); return; } showStep(current); }
function skipTour(){ endTour(); }
function endTour(){ document.getElementById("arrow").style.display="none"; document.querySelectorAll(".spotlight").forEach(e=>e.classList.remove("spotlight")); document.getElementById("overlay").style.display="none"; document.getElementById("walkBox").style.display="none"; }
function startTutorial(){ current=0; showStep(current); }
</script>

</body>
</html> 